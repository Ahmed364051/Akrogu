{"version":3,"sources":["data.js","main.js"],"names":["openings","name","link","adjectives","names","window","onload","lastRandomNum","currentRandomNum","btnMusic","btnRandomMusic","musicName","audio","title","ratingItems","ratingValue","input","listNames","regexp","popupId","form","startStatePlayer","min","max","length","Math","floor","random","innerHTML","src","animateWords","words","path","currentWord","word","document","querySelector","duration","i","setInterval","setTimeout","className","classList","add","insertAfter","elem","refElem","parentNode","insertBefore","nextSibling","Audio","addEventListener","this","toggle","contains","play","pause","e","preventDefault","remove","value","querySelectorAll","forEach","item","dataset","totalValue","itemValue","match","inputVal","listName","innerText","replace","toLowerCase","search","itemList","firstItem","list","children","j","replaceChild","secondItem","btn","target","callPopup","popup","concat","submit"],"mappings":"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","file":"script.js","sourcesContent":["\r\n// Для плеера\r\nconst openings = [\r\n    {\r\n        name: \"Наруто - Опенинг 3\",\r\n        link: \"naruto-op3.mp3\"\r\n    },\r\n    {\r\n        name: \"Клинок рассекающий демонов - Опенинг 1\",\r\n        link: \"blade-slayer-op1.mp3\"\r\n    },\r\n    {\r\n        name: \"Атака титанов - Опенинг 1\",\r\n        link: \"attack-on-titan-op1.mp3\"\r\n    },\r\n    {\r\n        name: \"Твоё имя - Опенинг 1\",\r\n        link: \"your-name.mp3\"\r\n    },\r\n    {\r\n        name: \"Обещанный Неверленд - Опенинг 1\",\r\n        link: \"promised-neverland-op1.mp3\"\r\n    },\r\n    {\r\n        name: \"Город, в котором меня нет - Опенинг 1\",\r\n        link: \"erased.mp3\"\r\n    },\r\n];\r\n\r\nconst adjectives = [\r\n    'целеустремленным',\r\n    'проницательным',\r\n    'сострадательным',\r\n    'бесстрашным',\r\n    'чистоплотным',\r\n    'cмышленым'\r\n];\r\n\r\nconst names = [\r\n    'Наруто',\r\n    'Изуко',\r\n    'Танджиро',\r\n    'Гатс',\r\n    'Леви',\r\n    'Эл'\r\n];\r\n\r\n","window.onload = function () {\r\n\r\n\t// Над функцией popup и sort надо еще поработать\r\n\r\n\r\n\t// Рандомное число\r\n\tconst getRandomNumber = (min, max) => Math.floor(Math.random() * (max - min)) + min;\r\n\r\n\t// Плеер\r\n\tfunction player () {\r\n\t\tconst btnMusic = document.querySelector(\".player__btn-play\");\r\n\t\tconst btnRandomMusic = document.querySelector(\".player__btn\");\r\n\t\tconst musicName = document.querySelector(\".player__name\");\r\n\r\n\t\tlet lastRandomNum;\r\n\t\tlet currentRandomNum;\r\n\r\n\t\tconst audio = new Audio(); \r\n\r\n\t\tbtnMusic.addEventListener(\"click\", function(){\r\n\t\t\tthis.classList.toggle(\"player__btn-play_active\");\r\n\r\n\t\t\tif (this.classList.contains(\"player__btn-play_active\")) {\r\n\t\t\t\tthis.src = \"img/pause.svg\";\r\n\t\t\t\taudio.play();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.src = \"img/play.svg\";\r\n\t\t\t\taudio.pause();\t\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tbtnRandomMusic.addEventListener(\"click\", function(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tbtnMusic.classList.add(\"player__btn-play_active\");\r\n\r\n\t\t\tstartStatePlayer();\r\n\r\n\t\t\tbtnMusic.src = \"img/pause.svg\";\r\n\t\t\taudio.play();\r\n\t\t});\r\n\r\n\t\taudio.addEventListener(\"ended\", function(){\r\n\t\t\tbtnMusic.src = \"img/play.svg\";\r\n\t\t\tbtnMusic.classList.remove(\"player__btn-play_active\");\r\n\t\t});\r\n\r\n\t\tfunction startStatePlayer() {\r\n\t\t\tcurrentRandomNum = getRandomNumber(0, openings.length);\r\n\r\n\t\t\tif (currentRandomNum === lastRandomNum) {\r\n\t\t\t\tstartStatePlayer();\r\n\t\t\t}\r\n\r\n\t\t\tlastRandomNum = currentRandomNum;\r\n\r\n\t\t\tmusicName.innerHTML = openings[currentRandomNum][\"name\"];\r\n\t\t\taudio.src = \"openings/\" + openings[currentRandomNum][\"link\"];\r\n\t\t}\r\n\r\n\t\tstartStatePlayer();\r\n\t}\r\n\r\n\t// Текст-ротейтор\r\n\tfunction rotateText () {\r\n\t\t\r\n\t  \tfunction animateWords (words, path) {\r\n\t  \r\n\t\t\tconst word = document.querySelector(path);\r\n\t\t\tlet currentWord;\r\n\t\t\tlet duration = 4000;\r\n\t\t\tlet i = 0;\r\n\t\t\r\n\t\t\tfunction clear() { // один раз\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tword.className = \"verb\";\r\n\t\t\t}, duration / 4);\r\n\t\t\t};\r\n\t  \r\n\t\t\tfunction toggleWord(duration){ // много раз\r\n\t\t\tsetInterval(function(){\r\n\t\t\t\t\r\n\t\t\t\ti++;\r\n\r\n\t\t\t\t// currentWord = words[i];\r\n\t\t\r\n\t\t\t\tif (i === words.length) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tcurrentWord = words[i];\r\n\t\t\r\n\t\t\t\tword.innerHTML = currentWord;\r\n\t\t\r\n\t\t\t\tclear();\r\n\t\t\r\n\t\t\t\tword.classList.add(\"js-fade-in-verb\");\r\n\r\n\t\t\t}, duration);\r\n\t\t};\r\n\t  \r\n\t\ttoggleWord(duration);\r\n\t  };\r\n\t  \r\n\t  animateWords(adjectives, \".about__word_adjective\");\r\n\t  animateWords(names,  \".about__word_name\");\r\n\t}\r\n\r\n\t// Название аниме\r\n\tfunction disappearNameAnime() {\r\n\t\tconst title = document.querySelector(\".about__name\");\r\n\r\n\t\ttitle.addEventListener(\"focus\", function (){\r\n\t\t\tif (this.value === \"Название аниме\") {\r\n\t\t\t\tthis.value = \"\";\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\ttitle.addEventListener(\"blur\", function (){\r\n\t\t\tif (!this.value) {\r\n\t\t\t\tthis.value = \"Название аниме\";\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Оценка\r\n\tfunction passGrade () {\r\n\t\tconst ratingItems = document.querySelectorAll(\".rating__item\");\r\n\t\tconst ratingValue = document.querySelector(\".rating-input\");\r\n\t\t\r\n\t\tratingItems.forEach(item => item.addEventListener(\"click\", function() {\r\n\t\t\titem.parentNode.dataset.totalValue = item.dataset.itemValue;\r\n\t\t\tratingValue.value = item.parentNode.dataset.totalValue;\r\n\t\t}));\r\n\t}\r\n\r\n\t// Поиск в списке\r\n\tfunction searchMatches () {\r\n\t\tconst input = document.querySelector(\"#search\");\r\n\t\tconst listNames = document.querySelectorAll(\".list__name\");\r\n\r\n\t\tconst regexp = /\\s+/g;\r\n\r\n\t\tinput.addEventListener(\"input\", function (){\r\n\t\t\tlet inputVal = this.value;\r\n\r\n\t\t\tlet item;\r\n\t\t\tlet match;\r\n\r\n\t\t\tif (inputVal) {\r\n\t\t\t\tlistNames.forEach(listName => {\r\n\t\t\t\t\titem = listName.innerText.replace(regexp, \"\").toLowerCase();\r\n\t\t\t\t\tmatch = inputVal.replace(regexp, \"\").toLowerCase();\r\n\r\n\t\t\t\t\tif (item.search(match) === -1) {\r\n\t\t\t\t\t\tlistName.parentNode.classList.add(\"js-hide\");\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlistName.parentNode.classList.remove(\"js-hide\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlistNames.forEach(itemList => {\r\n\t\t\t\t\titemList.parentNode.classList.remove(\"js-hide\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction sortList () {\r\n\t\tdocument.querySelector(\".list__btn_asc\").addEventListener(\"click\", sortListAsc);\r\n\t\tdocument.querySelector(\".list__btn_desk \").addEventListener(\"click\", sortListDesk);\r\n\t\r\n\t\tfunction sortListAsc () {\r\n\t\t\tconst list = document.querySelector(\".list__holder\");\r\n\t\t\tlet firstItem;\r\n\t\t\tlet secondItem;\r\n\t\r\n\t\t\tfor (let i = 0; i < list.children.length; i++) {\r\n\t\t\t\tfor (let j = i; j < list.children.length; j++) {\r\n\t\t\t\t\tfirstItem = list.children[i].dataset.listName.toLowerCase();\r\n\t\t\t\t\tsecondItem = list.children[j].dataset.listName.toLowerCase();\r\n\t\t\t\t\tif (firstItem > secondItem) {\r\n\t\t\t\t\t\tlet replacedNode = list.replaceChild(list.children[j], list.children[i]);\r\n\t\t\t\t\t\tinsertAfter(replacedNode, list.children[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction sortListDesk () {\r\n\t\t\tconst list = document.querySelector(\".list__holder\");\r\n\t\t\tlet firstItem;\r\n\t\t\tlet secondItem;\r\n\t\r\n\t\t\tfor (let i = 0; i < list.children.length; i++) {\r\n\t\t\t\tfor (let j = i; j < list.children.length; j++) {\r\n\t\t\t\t\tfirstItem = list.children[i].dataset.listName.toLowerCase();\r\n\t\t\t\t\tsecondItem = list.children[j].dataset.listName.toLowerCase();\r\n\t\t\t\t\tif (firstItem < secondItem) {\r\n\t\t\t\t\t\tlet replacedNode = list.replaceChild(list.children[j], list.children[i]);\r\n\t\t\t\t\t\tinsertAfter(replacedNode, list.children[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction insertAfter (elem, refElem) {\r\n\t\t\treturn refElem.parentNode.insertBefore(elem, refElem.nextSibling);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction popup () {\r\n\t\tconst popupBtns =  document.querySelectorAll(\".btn-popup\");\r\n\r\n\t\tlet popupId;\r\n\r\n\t\tpopupBtns.forEach(btn => {\r\n\t\t\tbtn.addEventListener(\"click\", function(e){\r\n\t\t\t\tif (e.target.dataset.callPopup === \"popup\") {\r\n\t\t\t\t\tpopupId = this.dataset.popup;\r\n\t\t\t\t\tdocument.querySelector(`${popupId}`).classList.remove(\"js-popup-hide\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t\t\r\n\t\tconst popups = document.querySelectorAll(\".popup__wrap\");\r\n\r\n\t\tpopups.forEach(popup => {\r\n\t\t\tpopup.addEventListener(\"click\", function(){\r\n\t\t\t\tthis.parentNode.parentNode.classList.add(\"js-popup-hide\");\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tfunction setUserpic () {\r\n\t\tconst form = document.querySelector(\".popup__userpic\");\r\n\r\n\t\tconst userpic = document.querySelector(\".popup__file\").addEventListener(\"change\", function(){\r\n\t\t\tform.submit();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\r\n\t// Создание элемента списка\r\n\t// const btn = document.querySelector('.opinion__btn');\r\n\t// const list = document.querySelector('.opinion__details');\r\n\t// \tconsole.log(btn);\r\n\t// \tbtn.addEventListener(\"click\", function(e){\r\n\t\t\t\r\n\t// \t\tlist.innerHTML += '<li class=\"opinion__item\"><span class=\"opinion__name\">Клинок рассекающий демонов</span><span class=\"opinion__grade\">5</span><button>X</button></li>';\r\n\t// \t});\r\n\t// console.log(11111)\r\n\tplayer();\r\n\tdisappearNameAnime();\r\n\tpassGrade();\r\n\trotateText();\r\n\tsearchMatches();\r\n\tsortList();\r\n\tpopup();\r\n\r\n\r\n\tsetUserpic();\r\n}"]}