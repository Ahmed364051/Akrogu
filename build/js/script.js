"use strict";var f=[{name:"Наруто - Опенинг 3",link:"naruto-op3.mp3"},{name:"Клинок рассекающий демонов - Опенинг 1",link:"blade-slayer-op1.mp3"},{name:"Атака титанов - Опенинг 1",link:"attack-on-titan-op1.mp3"},{name:"Твоё имя - Опенинг 1",link:"your-name.mp3"},{name:"Обещанный Неверленд - Опенинг 1",link:"promised-neverland-op1.mp3"},{name:"Город, в котором меня нет - Опенинг 1",link:"erased.mp3"}],y=["целеустремленным","проницательным","сострадательным","бесстрашным","чистоплотным","cмышленым"],L=["Наруто","Изуко","Танджиро","Гатс","Леви","Эл"];window.onload=function(){var n,a,t,e,r,i,o,c,l,s,d,u,p,m;function h(){var e,t;e=0,t=f.length,(a=Math.floor(Math.random()*(t-e))+e)===n&&h(),n=a,r.innerHTML=f[a].name,i.src="openings/"+f[a].link}function _(e,t){var n,a=document.querySelector(t),r=4e3,i=0;setInterval(function(){++i===e.length&&(i=0),n=e[i],a.innerHTML=n,setTimeout(function(){a.className="verb"},r/4),a.classList.add("js-fade-in-verb")},r)}function v(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}t=document.querySelector(".player__btn-play"),e=document.querySelector(".player__btn"),r=document.querySelector(".player__name"),i=new Audio,t.addEventListener("click",function(){this.classList.toggle("player__btn-play_active"),this.classList.contains("player__btn-play_active")?(this.src="img/pause.svg",i.play()):(this.src="img/play.svg",i.pause())}),e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("player__btn-play_active"),h(),t.src="img/pause.svg",i.play()}),i.addEventListener("ended",function(){t.src="img/play.svg",t.classList.remove("player__btn-play_active")}),h(),(o=document.querySelector(".about__name")).addEventListener("focus",function(){"Название аниме"===this.value&&(this.value="")}),o.addEventListener("blur",function(){this.value||(this.value="Название аниме")}),c=document.querySelectorAll(".rating__item"),l=document.querySelector(".rating-input"),c.forEach(function(e){return e.addEventListener("click",function(){e.parentNode.dataset.totalValue=e.dataset.itemValue,l.value=e.parentNode.dataset.totalValue})}),_(y,".about__word_adjective"),_(L,".about__word_name"),s=document.querySelector("#search"),d=document.querySelectorAll(".list__name"),u=/\s+/g,s.addEventListener("input",function(){var t,n,a=this.value;a?d.forEach(function(e){t=e.innerText.replace(u,"").toLowerCase(),n=a.replace(u,"").toLowerCase(),-1===t.search(n)?e.parentNode.classList.add("js-hide"):e.parentNode.classList.remove("js-hide")}):d.forEach(function(e){e.parentNode.classList.remove("js-hide")})}),document.querySelector(".list__btn_asc").addEventListener("click",function(){for(var e,t=document.querySelector(".list__holder"),n=0;n<t.children.length;n++)for(var a=n;a<t.children.length;a++)e=t.children[n].dataset.listName.toLowerCase(),t.children[a].dataset.listName.toLowerCase()<e&&v(t.replaceChild(t.children[a],t.children[n]),t.children[n])}),document.querySelector(".list__btn_desk ").addEventListener("click",function(){for(var e,t,n=document.querySelector(".list__holder"),a=0;a<n.children.length;a++)for(var r=a;r<n.children.length;r++)e=n.children[a].dataset.listName.toLowerCase(),t=n.children[r].dataset.listName.toLowerCase(),e<t&&v(n.replaceChild(n.children[r],n.children[a]),n.children[a])}),document.querySelectorAll(".btn-popup").forEach(function(e){e.addEventListener("click",function(e){"popup"===e.target.dataset.callPopup&&(p=this.dataset.popup,document.querySelector("".concat(p)).classList.remove("js-popup-hide"))})}),document.querySelectorAll(".popup__wrap").forEach(function(e){e.addEventListener("click",function(){this.parentNode.parentNode.classList.add("js-popup-hide")})}),m=document.querySelector(".popup__userpic"),document.querySelector(".popup__file").addEventListener("change",function(){m.submit()})};
//# sourceMappingURL=script.js.map
